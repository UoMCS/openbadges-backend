# API

This document details the various endpoints for the Open Badges backend API.

## Response codes

The following response codes are used by the API:

 * *200*: Response completed successfully, data returned.
 * *201*: Resource (e.g. badge) created. Will also include a *Location:* header containing the address of the resource.
 * *400*: Invalid data supplied.
 * *404*: Resource not found or endpoint does not exist.

Other response codes may be returned by the server (e.g. 500 Server Error) but
these are not directly generated by the backend.

## Creating a badge

*URL:* `/badges`  
*Method:* POST

*Response*: 201 Created, with a *Location:* header specifying the URL of the
badge.

## Fetching a badge

*URL:* `/badges/<id>`  
*Method:* GET

*Response:* JSON representation of a badge, as per the specification.

## Creating an assertion

*URL:* `/assertions`  
*Method:* POST

*Response:* 201 Created, with a *Location:* header specifying the URL of the
badge.

Note that creating an assertion requires that the relevant badge already exists,
but an earner record will be automatically created if necessary.

## Fetching a single assertion

*URL:* `/assertions/<uid>`  
*Method:* GET

*Response:* JSON representation of an assertion, as per the specification.

## Fetching all assertions for an earner

*URL:* `/assertions/<email>`  
*Method:* GET

*Response:* JSON representation of an array of assertions, as per the
specification.

Note that an earner record can only exist if the earner has one or more
assertions, so this endpoint will always return either a 404 or at least one
assertion.
